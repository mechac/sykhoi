<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–¢–µ–º—ã Telegram</title>
  
  <!-- Open Graph –º–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è –ø—Ä–µ–≤—å—é -->
  <meta property="og:title" content="–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–æ–¥–∞—Ä–∫–∏ –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞">
  <meta property="og:description" content="üôà –•–æ—á–µ—à—å –ø–æ–ª—É—á–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–æ–¥–∞—Ä–∫–∏? –ü–æ–ª—É—á–∞–π –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞ –≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π —Ä—É–ª–µ—Ç–∫–µ!">
  <meta property="og:image" content="https://mechac.github.io/sykhoi/mess.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://mechac.github.io/sykhoi/index.html">
  <meta name="twitter:card" content="summary_large_image">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- –ö–ê–°–¢–û–ú–ù–´–ô Telegram Web App SDK —Å –≤–µ—Ä—Å–∏–µ–π 7.7 -->
  <!-- –°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª telegram-web-app.js –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–∞ —Å–≤–æ–π —Å–µ—Ä–≤–µ—Ä -->
  <!-- –í –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ –∏–∑–º–µ–Ω–∏—Ç–µ: var webAppVersion = '7.7'; -->
  <script src="telegram-web-app.js"></script>
  
  <link rel="stylesheet" href="style.css">
  <base target="_blank">
  
  <style>
    /* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ */
    * {
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto;
    }

    body {
      margin: 0;
      background: #0b1220;
      height: 100vh;
      overflow: hidden;
    }

    /* –°–∫—Ä—ã–≤–∞–µ–º —Å–∏—Å—Ç–µ–º–Ω—ã–µ –æ—à–∏–±–∫–∏ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
    .error-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.95);
      color: white;
      z-index: 100000;
      padding: 20px;
      text-align: center;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }

    /* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–µ—Ä—Å–∏–∏ */
    .version-info {
      position: fixed;
      bottom: 10px;
      right: 10px;
      background: rgba(0,0,0,0.7);
      color: #2fbf6b;
      padding: 5px 10px;
      border-radius: 5px;
      font-size: 12px;
      z-index: 99999;
      font-family: monospace;
    }

    /* –ö–Ω–æ–ø–∫–∏ */
    .telegram-button {
      background: #0088cc;
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 12px;
      font-size: 16px;
      cursor: pointer;
      margin-top: 20px;
      text-decoration: none;
      display: inline-block;
      transition: all 0.3s;
    }

    .telegram-button:hover {
      background: #0077b3;
      transform: translateY(-2px);
    }

    /* –û–≤–µ—Ä–ª–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è */
    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.6);
      display: flex;
      align-items: flex-end;
      z-index: 99999;
    }

    .modal {
      width: 100%;
      background: #1c1f26;
      border-radius: 20px 20px 0 0;
      padding: 20px;
      color: white;
      max-height: 90vh;
      overflow-y: auto;
    }

    /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .modal {
      animation: fadeIn 0.3s ease-out;
    }

    /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
    .notification {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: #2f6bff;
      color: white;
      padding: 12px 24px;
      border-radius: 10px;
      z-index: 100001;
      font-size: 14px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      animation: slideIn 0.3s ease-out;
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateX(-50%) translateY(-20px); }
      to { opacity: 1; transform: translateX(-50%) translateY(0); }
    }

    /* –ü–æ–ø–∞–ø –¥–ª—è —à–∞—Ä–∏–Ω–≥–∞ */
    .share-popup {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.95);
      z-index: 100002;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      animation: fadeIn 0.3s ease-out;
    }

    .share-popup-content {
      background: #2a2d36;
      padding: 25px;
      border-radius: 15px;
      max-width: 400px;
      width: 100%;
      text-align: center;
    }

    /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á */
    .task-progress {
      display: flex;
      justify-content: space-between;
      margin: 15px 0;
      padding: 0 10px;
    }

    .progress-dot {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background: #3a3d47;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #9aa0a6;
      font-weight: bold;
    }

    .progress-dot.active {
      background: #2f6bff;
      color: white;
    }

    .progress-dot.completed {
      background: #2fbf6b;
      color: white;
    }

    .progress-line {
      flex: 1;
      height: 3px;
      background: #3a3d47;
      margin: 0 10px;
      align-self: center;
    }
  </style>
  
  <script>
    // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
    window.App = {
      version: '1.0',
      debug: true,
      tasksCompleted: 0,
      totalTasks: 2
    };

    // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    function log(message, type = 'info') {
      if (window.App.debug) {
        const colors = {
          info: '#2f6bff',
          success: '#2fbf6b',
          warning: '#ffa500',
          error: '#ff595a'
        };
        console.log(`%c${message}`, `color: ${colors[type] || colors.info}`);
      }
    }

    // –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏
    window.addEventListener('error', function(e) {
      // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫–∏ –æ—Ç Telegram (–Ω–µ –∏–∑ –Ω–∞—à–µ–≥–æ –∫–æ–¥–∞)
      if (e.filename && (
        e.filename.includes('solid.js') ||
        e.filename.includes('peerProfile.tsx') ||
        e.filename.includes('logger.ts') ||
        e.filename.includes('bubbles.ts')
      )) {
        e.preventDefault();
        log(`Telegram internal error (ignored): ${e.message}`, 'warning');
        return false;
      }
      
      // –õ–æ–≥–∏—Ä—É–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏
      log(`Error: ${e.message}`, 'error');
    });

    // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º unhandled rejections
    window.addEventListener('unhandledrejection', function(e) {
      log(`Unhandled promise rejection: ${e.reason}`, 'warning');
      e.preventDefault();
    });

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ shareMessage
    function checkTelegramSupport() {
      if (window.Telegram && window.Telegram.WebApp) {
        const tg = window.Telegram.WebApp;
        const version = tg.version || 'unknown';
        const hasShareMessage = typeof tg.shareMessage === 'function';
        
        log(`üì± Telegram Web App –≤–µ—Ä—Å–∏—è: ${version}`, 'info');
        log(`üîß –ü–æ–¥–¥–µ—Ä–∂–∫–∞ shareMessage: ${hasShareMessage ? '–î–ê' : '–ù–ï–¢'}`, hasShareMessage ? 'success' : 'warning');
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–µ—Ä—Å–∏–∏
        const versionEl = document.createElement('div');
        versionEl.className = 'version-info';
        versionEl.innerHTML = `Telegram Web App v${version} | shareMessage: ${hasShareMessage ? '‚úì' : '‚úó'}`;
        document.body.appendChild(versionEl);
        
        return { version, hasShareMessage };
      }
      
      log('‚ö†Ô∏è Telegram Web App –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω', 'warning');
      return { version: '0.0', hasShareMessage: false };
    }

    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    function showNotification(message, type = 'info', duration = 3000) {
      const notification = document.createElement('div');
      notification.className = 'notification';
      notification.textContent = message;
      notification.style.background = {
        success: '#2fbf6b',
        warning: '#ffa500',
        error: '#ff595a',
        info: '#2f6bff'
      }[type];
      
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.style.opacity = '0';
        notification.style.transform = 'translateX(-50%) translateY(-20px)';
        setTimeout(() => notification.remove(), 300);
      }, duration);
    }

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    window.addEventListener('DOMContentLoaded', function() {
      setTimeout(checkTelegramSupport, 500);
    });
  </script>
</head>
<body>

<!-- –û–≤–µ—Ä–ª–µ–π —Å –æ—à–∏–±–∫–æ–π (—Å–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
<div id="errorOverlay" class="error-overlay">
  <div style="max-width: 400px; text-align: center;">
    <h2 style="color: #2f6bff; margin-bottom: 20px;">üöÄ –û—Ç–∫—Ä—ã—Ç—å –≤ Telegram</h2>
    <p>–î–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —Å –Ω–∞—Ç–∏–≤–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π:</p>
    
    <a href="https://t.me/GorillaCaseBot/app?startapp=webapp" class="telegram-button" target="_blank">
      üì± –û—Ç–∫—Ä—ã—Ç—å –≤ Telegram
    </a>
    
    <div style="margin-top: 30px; padding: 15px; background: rgba(255,255,255,0.1); border-radius: 10px;">
      <p style="font-size: 14px; color: #aaa; margin: 0;">
        <strong>–¢—Ä–µ–±—É–µ—Ç—Å—è:</strong> Telegram –≤–µ—Ä—Å–∏–∏ 7.0+<br>
        <strong>–§—É–Ω–∫—Ü–∏—è:</strong> –ù–∞—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
      </p>
    </div>
    
    <button onclick="document.getElementById('errorOverlay').style.display='none'" 
            style="margin-top: 20px; background: transparent; color: #aaa; border: 1px solid #444; padding: 10px 20px; border-radius: 8px; cursor: pointer; width: 100%;">
      –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
    </button>
  </div>
</div>

<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
<div class="overlay">
  <div class="modal">
    <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á -->
    <div class="task-progress">
      <div class="progress-dot completed" id="progress1">1</div>
      <div class="progress-line"></div>
      <div class="progress-dot" id="progress2">2</div>
    </div>

    <div class="header">
      <h2 style="margin: 0; color: white;">–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</h2>
      <span class="close" onclick="App.closeModal()" style="cursor: pointer; font-size: 24px; color: #9aa0a6;">‚úï</span>
    </div>
    
    <p id="instructions" class="subtitle" style="color: #9aa0a6; margin: 15px 0 25px 0;">–ß—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å –∏ –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–º—É</p>

    <!-- –ó–∞–¥–∞—á–∏ -->
    <div class="tasks">
      <div class="task" id="task1">
        <div class="icon blue">‚úâÔ∏è</div>
        <div>
          <strong style="color: white; display: block; margin-bottom: 5px;">–û—Ç–ø—Ä–∞–≤–∏—Ç—å 3 –¥—Ä—É–∑—å—è–º</strong>
          <p style="color: #9aa0a6; margin: 0; font-size: 14px;">–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –≤ 3 –≤–∞—à–∏—Ö —á–∞—Ç–∞—Ö</p>
        </div>
        <span class="arrow" style="color: #777; font-size: 20px;">‚Ä∫</span>
      </div>

      <div class="task" id="task2">
        <div class="icon orange">ü§ñ</div>
        <div>
          <strong style="color: white; display: block; margin-bottom: 5px;">–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–∞–Ω–∞–ª</strong>
          <p style="color: #9aa0a6; margin: 0; font-size: 14px;">–ò –≤–µ—Ä–Ω—É—Ç—å—Å—è —Å—é–¥–∞</p>
        </div>
        <span class="arrow" style="color: #777; font-size: 20px;">‚Ä∫</span>
      </div>
    </div>

    <!-- –õ–æ–∞–¥–µ—Ä -->
    <div id="loader" class="loader" style="display: none; text-align: center; padding: 40px 0;">
      <img src="https://media1.tenor.com/m/siAgcqv9oSYAAAAC/roll-1.gif" alt="loading" style="width: 120px; height: auto; border-radius: 10px;">
      <p style="color: #9aa0a6; margin-top: 15px;">–û—Ç–∫—Ä—ã–≤–∞–µ–º –∫–µ–π—Å...</p>
    </div>

    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç - —Ç–µ–º–∞ -->
    <div class="theme-display" style="display: none; text-align: center;">
      <div class="theme-card" style="background: #2a2d36; padding: 25px; border-radius: 15px;">
        <h2 id="randomTheme" style="color: white; margin: 0 0 10px 0;">üéâ –¢–∞–¥–∞–∞–º! –í–∞—à–∞ —Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞</h2>
        <p id="themeMessage" class="subtitle" style="color: #9aa0a6; margin: 0 0 25px 0;">–¢–µ–º—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞</p>

        <button id="installBtn" class="install-btn" style="background: #2f6bff; color: white; border: none; padding: 15px 30px; border-radius: 12px; font-size: 16px; cursor: pointer; width: 100%; transition: background 0.3s;">
          üé® –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–º—É
        </button>
        
        <button onclick="App.shareResult()" style="background: transparent; color: #2f6bff; border: 1px solid #2f6bff; padding: 12px 25px; border-radius: 12px; font-size: 14px; cursor: pointer; width: 100%; margin-top: 15px; transition: all 0.3s;">
          üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
        </button>
      </div>
    </div>

    <!-- –§–µ–π–µ—Ä–≤–µ—Ä–∫–∏ -->
    <canvas id="fireworks" style="display:none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 100000;"></canvas>

    <!-- –ö–Ω–æ–ø–∫–∞ –ì–æ—Ç–æ–≤–æ -->
    <button id="doneBtn" style="background: #2f6bff; color: white; border: none; padding: 16px; border-radius: 12px; font-size: 16px; cursor: pointer; width: 100%; margin-top: 20px; transition: background 0.3s;">
      ‚úÖ –ì–æ—Ç–æ–≤–æ
    </button>
  </div>
</div>

<!-- –ü–æ–ø–∞–ø –¥–ª—è —à–∞—Ä–∏–Ω–≥–∞ (—Å–∫—Ä—ã—Ç) -->
<div id="sharePopup" class="share-popup" style="display: none;">
  <div class="share-popup-content">
    <h3 style="color: white; margin-bottom: 20px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</h3>
    <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 10px; margin-bottom: 20px; text-align: left;">
      <p style="color: white; margin: 0; line-height: 1.5;">
        üôà –•–æ—á–µ—à—å –ø–æ–ª—É—á–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–æ–¥–∞—Ä–∫–∏?<br><br>
        –ü–æ–ª—É—á–∞–π –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞ –≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π —Ä—É–ª–µ—Ç–∫–µ!
      </p>
    </div>
    <div style="display: flex; gap: 10px; flex-wrap: wrap; justify-content: center;">
      <button onclick="App.performNativeShare()" style="background: #2f6bff; color: white; border: none; padding: 12px 24px; border-radius: 10px; cursor: pointer; flex: 1; min-width: 140px;">
        üì± –í Telegram
      </button>
      <button onclick="App.copyToClipboard()" style="background: #2fbf6b; color: white; border: none; padding: 12px 24px; border-radius: 10px; cursor: pointer; flex: 1; min-width: 140px;">
        üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å
      </button>
      <button onclick="App.closeSharePopup()" style="background: #ff595a; color: white; border: none; padding: 12px 24px; border-radius: 10px; cursor: pointer; flex: 1; min-width: 140px;">
        –û—Ç–º–µ–Ω–∞
      </button>
    </div>
  </div>
</div>

<script src="app.js"></script>

<script>
  // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  window.App = window.App || {};
  window.App.closeModal = function() {
    if (window.history.length > 1) {
      window.history.back();
    } else if (window.Telegram && window.Telegram.WebApp) {
      window.Telegram.WebApp.close();
    } else {
      document.querySelector('.overlay').style.display = 'none';
    }
  };
  
  window.App.shareResult = function() {
    showNotification('–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å –¥—Ä—É–∑—å—è–º–∏!', 'info');
  };
  
  window.App.performNativeShare = function() {
    // –ë—É–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –≤ app.js
    console.log('Native share triggered');
  };
  
  window.App.copyToClipboard = function() {
    const text = `üôà –•–æ—á–µ—à—å –ø–æ–ª—É—á–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–æ–¥–∞—Ä–∫–∏?\n\n–ü–æ–ª—É—á–∞–π –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞ –≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π —Ä—É–ª–µ—Ç–∫–µ!\n\nhttps://mechac.github.io/sykhoi/index.html`;
    navigator.clipboard.writeText(text).then(() => {
      showNotification('–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!', 'success');
      App.closeSharePopup();
    });
  };
  
  window.App.closeSharePopup = function() {
    document.getElementById('sharePopup').style.display = 'none';
  };
  
  // –ê–≤—Ç–æ-–ø–æ–∫–∞–∑ –æ—à–∏–±–∫–∏ –µ—Å–ª–∏ –Ω–µ –≤ Telegram
  setTimeout(function() {
    if (!window.Telegram || !window.Telegram.WebApp) {
      document.getElementById('errorOverlay').style.display = 'flex';
    }
  }, 1000);
</script>

</body>
</html>
